import json
json_string = '[{"id":2,"name":"João Bom","latitude":37.895577553977084,"longitude":-25.787295651866142},{"id":3,"name":"Ajuda - Igreja","latitude":37.89874231024076,"longitude":-25.75499373056614},{"id":4,"name":"Ajuda - Ramal","latitude":37.89783537154173,"longitude":-25.756172272894258},{"id":5,"name":"Remédios","latitude":37.88587538247784,"longitude":-25.7383151882382},{"id":6,"name":"Remédios - Igreja","latitude":37.88791418587119,"longitude":-25.739511713371254},{"id":7,"name":"Santa Bárbara - Ramal","latitude":37.87704319712277,"longitude":-25.72452408638708},{"id":8,"name":"Santa Bárbara - Cavalo Branco","latitude":37.875606,"longitude":-25.7257},{"id":9,"name":"Santo António - Cruz","latitude":37.86720085865056,"longitude":-25.709795544059023},{"id":10,"name":"Santo António - Moagem","latitude":37.859692180572246,"longitude":-25.706757241085928},{"id":11,"name":"Santo António - Igreja","latitude":37.859473349512314,"longitude":-25.703178626215493},{"id":12,"name":"Teatro Novo","latitude":37.82815142215653,"longitude":-25.686025404301123},{"id":13,"name":"Grota do Morro","latitude":37.8424858335519,"longitude":-25.694985241942106},{"id":14,"name":"Capelas - Rossio","latitude":37.83301338165615,"longitude":-25.688487412566573},{"id":15,"name":"Capelas - Navio","latitude":37.830411202830774,"longitude":-25.675464756985647},{"id":16,"name":"São Vicente - Atafona","latitude":37.819045476073924,"longitude":-25.670334710367257},{"id":17,"name":"São Vicente - Igreja","latitude":37.82022134054216,"longitude":-25.66157813095841},{"id":18,"name":"Fenais da Luz - Bairro","latitude":37.828469644934245,"longitude":-25.646826006627105},{"id":19,"name":"Fenais da Luz - Igreja","latitude":37.8278423178853,"longitude":-25.641078638957627},{"id":20,"name":"Farropo","latitude":37.82289890761316,"longitude":-25.63396145123809},{"id":21,"name":"Batalha","latitude":37.80532203070736,"longitude":-25.638199510967528},{"id":22,"name":"Fajã de Cima","latitude":37.77100215299734,"longitude":-25.659067628717533},{"id":23,"name":"Ponta Delgada - Hospital","latitude":37.75196550967875,"longitude":-25.673909700128846},{"id":24,"name":"Ponta Delgada","latitude":37.738344758623185,"longitude":-25.669294137448684},{"id":25,"name":"Ponta Delgada - Ramalho","latitude":37.74609329971847,"longitude":-25.70076781543904},{"id":26,"name":"Av Principe Mónaco","latitude":37.73940261459753,"longitude":-25.684852086603605},{"id":27,"name":"Calhetas","latitude":37.824127906252514,"longitude":-25.616667428971603},{"id":28,"name":"Sete Cidades - Ponte","latitude":37.85521769081564,"longitude":-25.786546561254422},{"id":29,"name":"Sete Cidades - Igreja","latitude":37.862837071357,"longitude":-25.796768141680236},{"id":30,"name":"Lomba do Vasco","latitude":37.872473932532245,"longitude":-25.81149252420572},{"id":31,"name":"Varzea","latitude":37.86637544956329,"longitude":-25.834110730566838},{"id":32,"name":"Mosteiros - Ramal","latitude":37.87776007046853,"longitude":-25.825109917074368},{"id":33,"name":"Mosteiros - Banda de Além","latitude":37.89801857398914,"longitude":-25.81647227310704},{"id":34,"name":"Mosteiros - Igreja","latitude":37.89061165588206,"longitude":-25.820739273107133},{"id":35,"name":"Ginetes - Igreja","latitude":37.847860171232384,"longitude":-25.838395544272515},{"id":36,"name":"Candelária - Socorro","latitude":37.82932030609065,"longitude":-25.829209917286008},{"id":37,"name":"Candelária - Centro","latitude":37.82356015143992,"longitude":-25.8214740866019},{"id":38,"name":"Feteiras - Biscoito","latitude":37.8122446922813,"longitude":-25.808388001944298},{"id":39,"name":"Feteiras - Igreja","latitude":37.8037129054938,"longitude":-25.790232273108966},{"id":40,"name":"Covoada - Encruzilhada","latitude":37.778574057916046,"longitude":-25.73097291728711},{"id":41,"name":"Relva - Igreja","latitude":37.753752703865956,"longitude":-25.72166073078083},{"id":42,"name":"Relva - Canto da Pia","latitude":37.75149329290809,"longitude":-25.71249373078105},{"id":45,"name":"Canada da Cova","latitude":38.42768473102515,"longitude":-25.68849341980258},{"id":46,"name":"São Roque","latitude":37.74859127356805,"longitude":-25.633979733080785},{"id":47,"name":"Praia do Pópulo","latitude":37.75116200086379,"longitude":-25.61708745650639},{"id":48,"name":"Livramento","latitude":37.74725854090675,"longitude":-25.607634149702385},{"id":49,"name":"Lagoa","latitude":37.74437320491111,"longitude":-25.56363600194564},{"id":50,"name":"Cabouco","latitude":37.76248031553388,"longitude":-25.567105646122858},{"id":51,"name":"Remédios da Lagoa","latitude":37.74966079318672,"longitude":-25.538395847451984},{"id":52,"name":"Água de Pau","latitude":37.72047535887218,"longitude":-25.508480188452598},{"id":53,"name":"Ribeira Chã","latitude":37.720002845985256,"longitude":-25.488890086604037},{"id":54,"name":"Vila Franca","latitude":37.71635169477059,"longitude":-25.435942646123777},{"id":56,"name":"Povoação","latitude":37.74734613312273,"longitude":-25.24461983262972},{"id":57,"name":"Covoada","latitude":37.77851469857914,"longitude":-25.730951459616065},{"id":58,"name":"Quartel","latitude":37.7758512621779,"longitude":-25.70775245961612},{"id":59,"name":"Bom Despacho","latitude":37.75030897264079,"longitude":-25.686349930781144},{"id":60,"name":"Arribanas","latitude":37.78018249325861,"longitude":-25.694163544273955},{"id":61,"name":"Milagres","latitude":37.76940579059557,"longitude":-25.701780721537194},{"id":62,"name":"Grotinha","latitude":37.76084168258432,"longitude":-25.686362474405705},{"id":63,"name":"Caminho da Levada","latitude":37.753437196666745,"longitude":-25.666435230781047},{"id":64,"name":"Fajã de Baixo","latitude":37.757536661585874,"longitude":-25.649255374958454},{"id":65,"name":"Laranjeiras","latitude":37.747099163721366,"longitude":-25.65581156960314},{"id":66,"name":"Belém","latitude":37.74897491833818,"longitude":-25.64535382487291},{"id":67,"name":"Santa Rita","latitude":37.760890587776814,"longitude":-25.642638814142696},{"id":68,"name":"Largo da Fonte","latitude":37.79918475517701,"longitude":-25.563189273108993},{"id":69,"name":"Ponta Garça","latitude":37.71665179787233,"longitude":-25.370608459617262},{"id":70,"name":"Caminho Novo","latitude":37.72276691348784,"longitude":-25.365782364361987},{"id":71,"name":"Ribeira das Tainhas","latitude":37.718020795676416,"longitude":-25.410850544275178},{"id":72,"name":"Ribeira Quente","latitude":37.7297934072565,"longitude":-25.30776164612364},{"id":73,"name":"Agua Retorta","latitude":37.765344164033216,"longitude":-25.15800000194519},{"id":74,"name":"Faial da Terra","latitude":37.74702723266876,"longitude":-25.201057086603328},{"id":75,"name":"Lomba do Alcaide","latitude":37.75772213740265,"longitude":-25.23004868660321},{"id":76,"name":"Lomba do Loução","latitude":37.76069776326081,"longitude":-25.234304832629476},{"id":77,"name":"Lomba do Botão","latitude":37.764519128704556,"longitude":-25.24989881543862},{"id":78,"name":"Lomba do Pomar","latitude":37.77228589940661,"longitude":-25.243841495303595},{"id":79,"name":"Lomba do Carro","latitude":37.75177891167376,"longitude":-25.251565188452076},{"id":80,"name":"Moviarte","latitude":37.75434372233266,"longitude":-25.639679515438832},{"id":81,"name":"Caldeirão","latitude":37.76639327411217,"longitude":-25.614432188451815},{"id":82,"name":"Pico da Pedra","latitude":37.802267797254274,"longitude":-25.6120429172865},{"id":83,"name":"Rabo de Peixe","latitude":37.81439492320761,"longitude":-25.582332188450838},{"id":84,"name":"Ribeira Seca","latitude":37.81638644236424,"longitude":-25.535046357766543},{"id":85,"name":"Ribeira Grande","latitude":37.82244400240115,"longitude":-25.523287201943923},{"id":86,"name":"Ribeirinha","latitude":37.82532134881038,"longitude":-25.497873215437515},{"id":87,"name":"Porto Formoso","latitude":37.82247795209188,"longitude":-25.42536781543747},{"id":88,"name":"São Brás","latitude":37.820594906834174,"longitude":-25.413600001944125},{"id":89,"name":"Maia - Escola","latitude":37.83303555828587,"longitude":-25.391064374956958},{"id":90,"name":"Maia - Largo S.António","latitude":37.83114591001263,"longitude":-25.388360708404743},{"id":91,"name":"Gorreana","latitude":37.81862864483872,"longitude":-25.40242195884603},{"id":92,"name":"Lomba da Maia","latitude":37.82920166891366,"longitude":-25.361814171259706},{"id":93,"name":"Fenais da Ajuda","latitude":37.85132705309768,"longitude":-25.326110730778975},{"id":94,"name":"Lomba de S.Pedro","latitude":37.84980164051388,"longitude":-25.308653646121087},{"id":95,"name":"Salga","latitude":37.8504609412519,"longitude":-25.300053646121043},{"id":96,"name":"Lomba da Achadinha","latitude":37.85057788430621,"longitude":-25.284600001943485},{"id":97,"name":"Achada","latitude":37.85139316676638,"longitude":-25.26610000194342},{"id":98,"name":"Algarvia","latitude":37.84902705706214,"longitude":-25.233010730779025},{"id":99,"name":"Santo António Nordestinho","latitude":37.8546338644335,"longitude":-25.216346357765804},{"id":100,"name":"São Pedro Nordestinho","latitude":37.84984399912444,"longitude":-25.199632188449936},{"id":101,"name":"Lomba da Fazenda","latitude":37.850493167904055,"longitude":-25.172453646121042},{"id":102,"name":"Lomba da Cruz","latitude":37.84168637843762,"longitude":-25.15551073077917},{"id":103,"name":"Lomba da Pedreira","latitude":37.805661351146625,"longitude":-25.14557230349052},{"id":104,"name":"Vila do Nordeste","latitude":37.83196737315398,"longitude":-25.145442369265457},{"id":105,"name":"Gramas","latitude":37.81564406590625,"longitude":-25.486157086602034},{"id":106,"name":"Pico do Fogo","latitude":14.950518776305142,"longitude":-24.340261476355916},{"id":107,"name":"Santa Bárbara - Ribeira Grande","latitude":37.79870809252399,"longitude":-25.532752240977654},{"id":108,"name":"Furnas - Águas Quentes","latitude":37.76946211793299,"longitude":-25.31842235776762},{"id":109,"name":"Furnas - Caldeiras","latitude":37.77141022925242,"longitude":-25.303342917287157},{"id":55,"name":"Furnas","latitude":37.77593785342096,"longitude":-25.31044023078145},{"id":43,"name":"Ramal Cruz","latitude":37.86748947819213,"longitude":-25.70982163252888}]'

#read from groups.json
groups = json.loads(open("temp/groups.json", "r").read())
allValues = [stop for key, value in groups.items() for stop in value]
print(groups)
print(allValues)

for stop in json.loads(json_string):
    name = stop['name']
    if name in allValues:
        continue
    print("Available groups: {}".format(", ".join(groups.keys())))
    group_name = input("Group name for stop {}: ".format(name))
    if group_name not in groups:
        groups[group_name] = [name]
    else:
        groups[group_name].append(name)
    
    #Save the groups dict to a file
    with open("groups.json", "w") as f:
        json.dump(groups, f)


